<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>JS String Obfs</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #ffffff;
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    h1 {
      margin-bottom: 20px;
    }

    .form-container {
      display: flex;
      flex-direction: column;
      gap: 10px;
      width: 90%;
      max-width: 400px;
    }

    input, textarea, button {
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-size: 1rem;
    }

    input, textarea {
      background-color: #1e1e1e;
      color: #fff;
    }
     
     textarea {
       height:100px;
       resize:none;
    }
    

    button {
      background-color: #6200ea;
      color: #fff;
      cursor: pointer;
    }

    button:hover {
      background-color: #3700b3;
    }
  </style>
</head>
<body>
  <h1>JS String Obfs</h1>
  <div class="form-container" id="form-container">
    <input id="frase" type="text" placeholder="Digite aqui sua palavra/frase/texto">
    <button onclick="adicionarCampo()">Processar</button>
  </div>

  <script>
  
        
  
 
  
  
    function adicionarCampo() {
	
	const container = document.getElementById('form-container');
		
		const metodo1 = document.createElement('h2');
		metodo1.innerHTML = '<center>Metodo 1</center>';
	  
		const novoInput = document.createElement('input');
		novoInput.type = 'text';
		const novoTextarea = document.createElement('textarea');
	  
	  
	  const metodo2 = document.createElement('h2');
      metodo2.innerHTML = '<center>Metodo 2</center>';
      const novoMetodo = document.createElement('textarea');
      

      container.appendChild(metodo1);
      container.appendChild(novoInput);
      container.appendChild(novoTextarea);
	  
      container.appendChild(metodo2);
      container.appendChild(novoMetodo);

      
      const num = Math.floor(Math.random()*1000)
      
      
      // ðŸ”¹ Teste:
let frase = document.getElementById('frase').value;


let resultado = removerRepetidosEEmbaralhar(frase);


novoInput.value = "const __"+num+" = '"+resultado+"'; /*"+frase+"*/\n\n";

 novoTextarea.value =  montar(frase,resultado, num)    
    
    
    
    
   eval(novoInput.value + novoTextarea.value) 
    
    
         const input = document.getElementById('frase').value;
      const charCodes = [...input].map(c => c.charCodeAt(0)).join(',');
      const result = `String.fromCharCode(${charCodes})`;
      novoMetodo.value = result;
    }
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
      var final ="";    
        
        function removerRepetidosEEmbaralhar(frase) {
    let visto = new Set();
    let unicos = "";

    // Remove repetidos (case sensitivo)
    for (let char of frase) {
        if (!visto.has(char)) {
            visto.add(char);
            unicos += char;
        }
    }

    // Embaralha
    let array = unicos.split('');
    for (let i = array.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }

    return  array.join('')
    }


        
        
        
    function montar(palavra, gabarito, variavel)
    {
        var hh ="console.log("
        for(let letra of palavra){
            var i = 0
            for(let gab of gabarito){
                if(gab == letra){
                    hh+= "__"+variavel+"["+i+"] +"
                }
                i++
            }
        }
        hh+= '"");/*'+document.getElementById('frase').value+'*/'
        return hh;
    } 
    
    
       
        
  
  
  
    
    
    
    
    
    
  </script>
</body>
</html>
